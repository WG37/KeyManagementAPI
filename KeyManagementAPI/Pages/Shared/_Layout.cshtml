
<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Key Management</title>
    <link href="~/assets/css/site.css" rel="stylesheet" />
</head>

<body class="bg-base-200 text-base-content">
    <div class="drawer lg:drawer-open">
        <input id="nav-drawer" type="checkbox" class="drawer-toggle" />

        <!-- ──────── MAIN PANE (top-bar + page) ───────── -->
        <div class="drawer-content flex flex-col">
            <header class="navbar bg-base-100 shadow px-4">


                <!-- burger (mobile) -->
                <label for="nav-drawer" class="btn btn-square btn-ghost lg:hidden">
                    <svg …></svg>
                </label>

                <!-- brand -->
                <a href="/" class="font-bold tracking-wide text-lg lg:text-xl">
                    🔐 Key Management
                </a>

                <div class="flex-1"></div>   <!-- pushes items to the right -->

                @* ───── right-hand buttons: ONE block only ───── *@
                @if (User?.Identity?.IsAuthenticated == true)
                {
                    <a asp-area="Identity"
                       asp-page="/Account/Manage/Index"
                       class="btn btn-ghost btn-sm">
                        My&nbsp;profile
                    </a>

                    <form asp-area="Identity"
                          asp-page="/Account/Logout"
                          method="post"
                          class="inline">
                        <button type="submit"
                                class="btn btn-primary btn-sm">
                            Logout
                        </button>
                    </form>
                }
                else
                {
                    <a asp-area="Identity"
                       asp-page="/Account/Login"
                       class="btn btn-ghost btn-sm relative
                  after:absolute after:bottom-0 after:left-0 after:h-[2px] after:w-full
                  after:origin-bottom-right after:scale-x-0 after:bg-primary
                  after:transition-transform after:duration-300
                  after:ease-[cubic-bezier(0.65_0.05_0.36_1)]
                  hover:after:origin-bottom-left hover:after:scale-x-100">
                        Login
                    </a>

                    <a asp-area="Identity"
                       asp-page="/Account/Register"
                       class="btn btn-primary btn-sm">
                        Register
                    </a>
                }
            </header>

            <main class="p-6 max-w-7xl w-full mx-auto">
                @RenderBody()
            </main>

            <footer class="footer footer-center p-4 bg-base-100">
                <p>© 2025 KeyMgmt</p>
            </footer>
        </div>

        <!-- ──────── SIDEBAR ───────── -->
        <aside class="drawer-side">
            <label for="nav-drawer" class="drawer-overlay"></label>

            <nav class="menu p-4 w-64 min-h-full bg-base-100">
                <h2 class="mb-4 text-lg font-bold">Navigation</h2>
                <ul class="space-y-1">
                    <li><a asp-page="/Index" class="btn-ghost w-full">Dashboard</a></li>

                    <li class="nav-item">
                        <a asp-page="/CreateKey/Symmetric/CreateKey">
                            <i class="fas fa-key"></i><p>Create Key (Symmetric)</p>
                        </a>
                    </li>

                    <li class="nav-item">
                        <a asp-page="/CreateKey/Asymmetric/CreateKey">
                            <i class="fas fa-key"></i><p>Create Key (Asymmetric)</p>
                        </a>
                    </li>
                    <!-- Asymmetric-->
                    <li>
                        <a asp-page="/Encrypt/Asymmetric/Encrypt"
                           class="btn-ghost w-full hover:bg-primary hover:text-primary-content">
                            Encrypt (Asymmetric)
                        </a>
                    </li>
                    <li>
                        <a asp-page="/Decrypt/Asymmetric/Decrypt"
                           class="btn-ghost w-full hover:bg-primary hover:text-primary-content">
                            Decrypt (Asymmetric)
                        </a>
                    </li>
                    <!-- Symmetric-->
                    <li>
                        <a asp-page="/Encrypt/Symmetric/Encrypt"
                           class="btn-ghost w-full hover:bg-primary hover:text-primary-content">
                            Encrypt (Symmetric)
                        </a>
                    </li>
                    <li>
                        <a asp-page="/Decrypt/Symmetric/Decrypt"
                           class="btn-ghost w-full hover:bg-primary hover:text-primary-content">
                            Decrypt (Symmetric)
                        </a>
                    </li>

                    @if (User?.IsInRole("Admin") == true)
                    {
                        <li>
                            <a asp-page="/Admin/Index"
                               class="btn-ghost w-full hover:bg-primary hover:text-primary-content">
                                Admin
                            </a>
                        </li>
                    }
                </ul>
            </nav>
        </aside>
    </div>

    @RenderSection("Scripts", required: false)
</body>
</html>

